<view class="route-header d-flex align-items-center justify-content-sp-bw" bindtap="handleShowPopup">
    <view class="d-flex align-items-center f-s-12 text-grey1">
        <view class="route-type m-r-8">去程</view>
        <block wx:if="{{flightDetail}}">
            <airline-thumbnail class="airline-thumbnail" airlineCode="{{flightDetail.airline}}"></airline-thumbnail>
            <view class="m-l-2">
                {{ flightDetail.airlineName }} {{ flightDetail.flightNo }}
                <plane-type class="m-l-4" value="{{flightDetail.planeType}}"></plane-type>
                <date-format class="m-l-4" value="{{flightDetail.departure.dateTime}}"></date-format>
            </view>
        </block>
    </view>
    <view class="text-primary f-s-11 d-flex">
        航班详情
        <iconfont icon="arrow-right" class="f-s-10 text-grey3 m-l-6"></iconfont>
    </view>
</view>
<van-popup show="{{ showPopup }}" round position="bottom" custom-style="max-height: 70%;" lock-scroll="true" bind:close="handleClosePopup">
    <view class="route-popup-header-container">
        <view class="popup-header">
            <view>去程航班详情</view>
            <iconfont icon="close" class="f-s-14 text-grey10" bindtap="handleClosePopup"></iconfont>
        </view>
    </view>
    <view class="route-content">
        <view class="route-info-nav">
            <image class="flight-arrow-bg" src="{{flightRouteArrowSrc}}" lazy-load="{{true}}" />
            <view class="route-info">
                <view class="d-flex align-items-center">
                    <image class="route-to-icon" src="{{routeGoSrc}}" lazy-load="{{true}}" />
                    <view class="f-s-14 text-white f-w-bold m-l-6">
                        <date-format value="{{flightDetail.departure.dateTime}}" format="MM-dd"></date-format>
                        <date-format value="{{flightDetail.departure.dateTime}}" format="E" />
                    </view>
                </view>
                <view class="f-s-14 text-primary f-w-bold">
                    {{flightDetail.departure.cityName}} ⇀ {{flightDetail.arrival.cityName}}
                </view>
                <view class="f-s-11 text-primary">
                    总时长：
                    <time-duration value="{{[flightDetail.departure.dateTime,flightDetail.arrival.dateTime]}}"></time-duration>
                </view>
            </view>
        </view>
        <view class="route-detail">
            <!-- 航班出发到达信息 -->
            <view class="f-s-16 d-flex position-relative">
                <view class="d-flex justify-content-sp-bw flex-direction-column">
                    <view class="f-w-bold">
                        <date-format value="{{flightDetail.departure.dateTime}}" format="HH:mm"></date-format>
                    </view>
                    <view class="f-s-11 text-grey3 p-y-12">
                        <time-duration value="{{[flightDetail.departure.dateTime,flightDetail.arrival.dateTime]}}"></time-duration>
                    </view>
                    <view class="f-w-bold">
                        <date-format value="{{flightDetail.arrival.dateTime}}" format="HH:mm"></date-format>
                    </view>
                </view>
                <view class="split-line"></view>
                <view class="d-flex justify-content-sp-bw flex-direction-column">
                    <view class="f-w-bold">
                        {{ flightDetail.departure.airportName }} {{flightDetail.departure.terminal || ''}}
                    </view>
                    <view></view>
                    <view class="f-w-bold">
                        {{ flightDetail.arrival.airportName }} {{flightDetail.arrival.terminal || ''}}
                    </view>
                </view>
            </view>
            <view class="flex-1 f-s-11 text-grey3 text-right">
                <view class="f-w-bold text-grey1" wx:if="{{bunkInfo}}">
                    {{ bunkInfo.bunkName }}
                </view>
                <view class="d-flex align-items-center justify-content-flex-end">
                    <airline-thumbnail class="airline-thumbnail m-r-2" airlineCode="{{flightDetail.airline}}"></airline-thumbnail>
                    {{ flightDetail.airlineName }} {{ flightDetail.flightNo }}
                </view>
                <view>
                    <plane-type class="m-l-4" value="{{flightDetail.planeType}}"></plane-type>
                </view>
                <view>餐食：{{ flightDetail.meal }}</view>
            </view>
        </view>
    </view>
    <view class="f-s-14 text-center p-b-10" bindtap="handleChangeRoute">
        对航班不满意?
        <view class="d-inline-block text-primary">更换去程</view>
    </view>
</van-popup>