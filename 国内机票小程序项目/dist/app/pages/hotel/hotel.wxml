<view class="container">
  <view class="content">
    <!-- <view class="tabs">
      <view class="d-flex">
        <view class="text-center flex-1 item-left">
          <view class="item-left-content activated">
            <text>国内</text>
          </view>
        </view>
        <view class="flex-1 item-right">
          <view class="item-right-content"></view>
        </view>
      </view>
    </view> -->
    <!-- 搜索 -->
    <view class="hotel-search-form f-s-16">
      <view class="m-b-32 f-s-15" wx:if="{{travelTypeChangeable}}">
        <view class="bg-blue4 text-primary r-8 f-s-13 p-y-4 p-x-10 m-b-12" wx:if="{{!isOnBusiness}}">
          <iconfont icon="fill-exclamation" class="m-r-4" />
          因私订单不会展示给公司其他人
        </view>
        <view class="d-flex">
          <view class="flex-1 d-flex align-items-center" bindtap="throttleChangeTravelType" data-type="{{travelTypes.OnBusiness}}">
            <image class="icon-16 " src="{{ isOnBusiness ? checkboxIcons.checked: checkboxIcons.unchecked }}" />
            <text class="f-w-bold m-l-16 {{ isOnBusiness ? 'text-primary' : '' }}">因公</text>
          </view>
          <view class="flex-1 d-flex align-items-center justify-content-flex-end" bindtap="throttleChangeTravelType" data-type="{{travelTypes.OnPrivate}}">
            <image class="icon-16 " src="{{ !isOnBusiness ?  checkboxIcons.checked: checkboxIcons.unchecked }}" />
            <text class="f-w-bold m-l-16 {{ !isOnBusiness ? 'text-primary' : '' }}">因私</text>
          </view>
        </view>
      </view>
      <view class="m-b-32">
        <view class="d-flex  align-items-center">
          <text class="flex-1 p-r-8" bindtap="throttleChooseCity">
            <text wx:if="{{addressDetail}}">{{addressDetail}}</text>
            <text wx:else class="input-placeholder">请选择地址</text>
          </text>
          <!-- <view bindtap="throttleLocateCurrentAddress" class="current-address-handler">
            <iconfont icon="address" class="icon-18"></iconfont>
            <text>当前位置</text>
          </view> -->
        </view>
        <view class="f-s-10 text-red1">{{errMsgs.cityCode}}</view>
      </view>
      <view class="d-flex m-b-32 align-items-center">
        <view class="flex-1 p-r-8 d-flex" bindtap="throttleChooseDate">
          <view wx:if="{{formData.checkInDate}}">
            <date-format class="m-r-4 f-w-bold" value="{{formData.checkInDate}}" format="MMMdo" />
            <date-format class="f-s-12" value="{{formData.checkInDate}}" format="E" />
          </view>
          <text wx:else class="input-placeholder">请选择时间</text>
          <text class="p-x-12">-</text>
          <view wx:if="{{formData.checkOutDate}}">
            <date-format class="m-r-4 f-w-bold" value="{{formData.checkOutDate}}" format="MMMdo" />
            <date-format class="f-s-12" value="{{formData.checkOutDate}}" format="E" />
          </view>
          <text wx:else class="input-placeholder">请选择时间</text>
        </view>
        <text class="f-s-12">共{{totalDays}}晚</text>
      </view>
      <view class="d-flex m-b-32">
        <text class="flex-1" bindtap="throttleChooseCondition">
          <text wx:if="{{keyword}}">{{keyword}}</text>
          <text wx:else class="input-placeholder">关键字/位置/酒店名</text>
        </text>
        <iconfont icon="clear" class="text-primary" wx:if="{{keyword}}" bindtap="throttleClearCondition" />
      </view>
      <view class="d-flex m-b-32">
        <text class="flex-1" bindtap="throttleChoosePrice">
          <text wx:if="{{priceRangeDesc}}">{{priceRangeDesc}}</text>
          <text wx:else class="input-placeholder">价格</text>
        </text>
        <iconfont icon="clear" class="text-primary" wx:if="{{priceRangeDesc}}" bindtap="throttlePriceClear" />
      </view>
      <view>
        <button bindtap="throttleSearch" class="search-btn">查 询</button>
      </view>
      <!-- 客服信息 -->
      <view class="text-center service-info">
        <image src="https://tehang-assets.oss-cn-shenzhen.aliyuncs.com/weapp/common/call-center.svg" />
        <text class="m-r-8">7*24小时客服</text>
        <text>预订无忧</text>
      </view>
    </view>
  </view>
</view>
<van-calendar show="{{ calenderVisible }}" type="range" bind:confirm="throttleDateConfirm" bind:close="throttleDateClose" formatter="{{ formatter }}" max-date="{{maxdate}}" default-date="{{calendarDefaultDate}}" show-confirm="{{false}}" />
<van-popup show="{{ pricePickerVisible }}" round position="bottom" custom-style="height: 700rpx;" bind:close="throttlePricePickerClose">
  <view class="price-modal text-grey1">
    <view class="title">
      <text>选择价格</text>
      <iconfont icon="guanbi" class="icon-close" bindtap="throttlePricePickerClose"></iconfont>
    </view>
    <view class="content">
      <view class="price-slider-wrapper">
        <view class="m-b-20 f-s-14 f-w-bold">
          <text>价格</text>
          <text class="m-l-12 text-primary">{{priceRangeDescInPopup}}</text>
        </view>
        <view>
          <view class="d-flex m-b-12 f-s-12">
            <text class="flex-1">¥ 0</text>
            <text class="flex-1 text-right">¥ 1000以上</text>
          </view>
          <van-slider bind:drag="handlePriceDrag" min="0" max="1000" value="{{ [_minPrice, _maxPrice ] }}" range step="50" />
        </view>
      </view>
      <view class="price-item-wrapper">
        <text class="price-item {{pricePickerModule.getItemActivated(item,_minPrice,_maxPrice)?'bg-blue4 text-primary':''}}" data-price="{{item}}" bindtap="throttleChoosePriceItem" wx:for="{{priceItems}}" wx:key="index">
          <text>{{item.desc}}</text>
        </text>
      </view>
    </view>
    <view class="footer d-flex">
      <view class="flex-1">
        <button bindtap="throttlePriceClear" class="btn-clear">清空</button>
      </view>
      <view class="flex-1">
        <button bindtap="throttlePriceConfirm" class="btn-confirm">确定</button>
      </view>
    </view>
  </view>
</van-popup>
<wxs module="pricePickerModule">
   function getItemActivated(item,min,max) {
    return item.min===min&&item.max===max
  }
module.exports.getItemActivated = getItemActivated;
</wxs>