<view class="form-group m-t-10">
    <view class="form-item  {{ errMsgs.travelReason ? 'has-error' : ''}}">
        <view class="label">出差事由</view>
        <view class="control">
            <view class="content">
                <input type="text" placeholder="请填写出差事由" value="{{formData.travelReason}}" class="flex-1" data-name="travelReason" bindinput="handleInput" />
            </view>
            <view class="error">{{errMsgs.travelReason}}</view>
        </view>
    </view>
</view>
<view class="form-group m-t-10">
    <view class="form-item">
        <view class="label">交通工具</view>
        <view class="control">
            <view class="content">
                <input type="text" placeholder="请填写出交通工具" value="{{formData.transport}}" class="flex-1" data-name="transport" bindinput="handleInput" />
            </view>
        </view>
    </view>
    <view class="form-item">
        <view class="label">出发城市</view>
        <view class="control">
            <view class="content">
                <input type="text" placeholder="请填写出发城市" value="{{formData.travelFrom}}" class="flex-1" data-name="travelFrom" bindinput="handleInput" />
            </view>
        </view>
    </view>
    <view class="form-item  {{ errMsgs.travelDestination ? 'has-error' : ''}}">
        <view class="label">到达城市</view>
        <view class="control">
            <view class="content">
                <input type="text" placeholder="请填写出到达城市" value="{{formData.travelDestination}}" class="flex-1" data-name="travelDestination" bindinput="handleInput" />
            </view>
            <view class="error">{{errMsgs.travelDestination}}</view>
        </view>
    </view>
    <view class="form-item  {{ errMsgs.travelDateStart ? 'has-error' : ''}}">
        <view class="label">出发日期</view>
        <view class="control" bindtap="handleChooseDate">
            <view class="content">
                <view class="flex-1" wx:if="{{formData.travelDateStart}}">
                    {{formData.travelDateStart}}
                </view>
                <view class="flex-1 text-grey4" wx:else>请选择出发日期</view>
                <iconfont icon="arrow-right" />
            </view>
            <view class="error">{{errMsgs.travelDateStart}}</view>
        </view>
    </view>
    <view class="form-item  {{ errMsgs.travelDateEnd ? 'has-error' : ''}}">
        <view class="label">结束日期</view>
        <view class="control" bindtap="handleChooseDate">
            <view class="content">
                <view class="flex-1" wx:if="{{formData.travelDateEnd}}">
                    {{formData.travelDateEnd}}
                </view>
                <view class="flex-1 text-grey4" wx:else>请选择结束日期</view>
                <iconfont icon="arrow-right" />
            </view>
            <view class="error">{{errMsgs.travelDateEnd}}</view>
        </view>
    </view>
</view>
<view class="form-group m-t-10">
    <view class="form-item vertical">
        <view class="label">备注</view>
        <view class="control">
            <view class="content">
                <textarea placeholder="请输入具体的出差备注（选填，少于500字）" value="{{formData.memo}}" data-name="memo" bindinput="handleInput" />
            </view>
        </view>
    </view>
</view>
<view class="traveler-content">
    <view class="d-flex align-items-center m-l-16 p-r-10 p-y-10">
        <view class="flex-1 f-s-14 text-grey2">出差人</view>
        <view class="add-traveler-btn" bindtap="handleSelectEmployee">+ 添加出差人</view>
    </view>
    <!-- 出差人列表 -->
    <view class="m-l-16">
        <block wx:for="{{formData.employees}}" wx:for-item="employee" wx:key="id">
            <view class="traveler-item d-flex align-items-center">
                <iconfont class="text-red1 f-s-12" icon="fill-remove" data-index="{{index}}" bindtap="handleRemoveTraveler" />
                <view class="m-l-28 f-s-14 text-grey1">
                    <employee-name employeeInfo="{{employee}}"></employee-name>
                    <text class="f-s-12 text-grey2 m-l-4">{{employee.departmentName}}</text>
                </view>
            </view>
        </block>
    </view>
</view>
<!-- 底部 -->
<footer-container>
    <view class="submit-btn" slot="content" bindtap="handleAddApproval">提交</view>
</footer-container>
<!-- 日期选择组件 -->
<van-calendar show="{{ calenderVisible }}" type="range" bind:confirm="handleDateConfirm" bind:close="handleDateClose" formatter="{{ formatter }}" max-date="{{maxDate}}" default-date="{{calendarDefaultDate}}" show-confirm="{{false}}" />
<loading wx:if="{{isLoading}}" title="{{loadingTitle}}" />