<view class="travel-policy-container" wx:if="{{approvalRuleInfo}}">
    <!-- 审批政策Start -->
    <view class="approve-policy" wx:if="{{approvalRuleInfo}}">
        <view class="header">
            <iconfont icon="approval" size="16" class="text-gradient"></iconfont>
            <view class="title">出差审批</view>
        </view>
        <view class="content" wx:if="{{approvalRuleInfo.approvalEnabled}}">
            <view class="approval-item">
                <view class="text-grey2 m-b-10">审批规则</view>
                <view class="rule-info">
                    <view class="d-flex">
                        <view class="m-r-4">1.</view>
                        <view>{{approvalRuleInfo.approvalRequiredDescribe}}</view>
                    </view>
                    <view class="d-flex">
                        <view class="m-r-4">2.</view>
                        <view>{{approvalRuleInfo.approvalPassedRequiredDescribe}}</view>
                    </view>
                </view>
            </view>
            <view class="approval-item">
                <view class="text-grey2 m-b-10">审批人</view>
                <view>
                    {{approvalRuleInfo.firstAuditEmployees}}
                    <iconfont class="text-white-gray f-s-12 m-x-12" icon="arrow-fill"></iconfont>
                    {{approvalRuleInfo.secondAuditEmployees}}
                </view>
            </view>
        </view>
        <view class="content" wx:else>不需要审批</view>
    </view>
    <!-- 审批政策End -->
    <view class="authorize-policy">
        <view class="header">
            <iconfont icon="overrun-auth" size="16" class="text-gradient"></iconfont>
            <view class="title">超标授权</view>
        </view>
        <view class="policy-name f-s-14">
            <view class="f-w-bold">差旅政策名称：</view>
            <view>{{travelPolicyName}}</view>
        </view>
        <!-- 超标授权政策 -->
        <view class="content" wx:if="{{authorizeRuleInfo.authorizeEnabled}}">
            <view class="policy-item">
                <view class="policy-item-label">授权规则：</view>
                <view class="policy-item-value">{{ authorizeRuleInfo.overrunPolicyDescribe }}</view>
            </view>
            <view class="policy-item">
                <view class="policy-item-label">超标授权人：</view>
                <view class="policy-item-value d-flex align-items-center">
                    {{authorizeRuleInfo.firstAuditEmployees}}
                    <iconfont class="text-white-gray m-x-12" icon="arrow-fill" size="12" slot="right-icon"></iconfont>
                    {{authorizeRuleInfo.secondAuditEmployees}}
                </view>
            </view>
        </view>
        <view class="content" wx:else>不需要授权</view>
        <!-- 国内机票差标 -->
        <view class="flight-policy" wx:if="{{flightPolicy && flightPolicy.enabled}}">
            <view class="policy-header">
                <image class="prefix-area" src="{{prefixAreaUrl}}" lazy-load="true" />
                <view class="policy-title">国内机票差标</view>
                <image class="prefix-area" src="{{postfixAreaUrl}}" lazy-load="true" />
            </view>
            <view class="flight-policy-detail-table" wx:if="{{flightPolicy.preDaysEnabled || flightPolicy.compareHoursEnabled || flightPolicy.discountLimitEnabled || flightPolicy.departureTimeLimitEnabled}}">
                <view class="table-row border-b" wx:if="{{flightPolicy.preDaysEnabled}}">
                    <view class="col-item col-label">提前预订管控</view>
                    <view class="col-item col-value">需提前{{flightPolicy.preDays}}天预订</view>
                </view>
                <view class="table-row" wx:if="{{flightPolicy.compareHoursEnabled || flightPolicy.discountLimitEnabled}}">
                    <view class="col-item col-label">航班低价管控</view>
                    <view class="col-item col-value">
                        <block wx:if="{{flightPolicy.compareHoursEnabled}}">
                            需选择前后{{flightPolicy.compareHours}}小时最低价预订
                        </block>
                        <block wx:if="{{flightPolicy.discountLimitEnabled}}">
                            国内机票不能超过{{flightPolicy.discountLimit}}折
                        </block>
                    </view>
                </view>
                <view class="table-row border-t" wx:if="{{flightPolicy.departureTimeLimitEnabled}}">
                    <view class="col-item col-label">起飞时间管控</view>
                    <view class="col-item col-value">
                        仅可预订
                        <block wx:for="{{flightPolicy.limitedDepartureTimeInWeekday}}" wx:for-item="date" wx:for-index="idx" wx:key="*this">
                            {{ date.startTime }}-{{ date.endTime }}
                            <block wx:if="{{idx < flightPolicy.limitedDepartureTimeInWeekday.length -1}}">
                                /
                            </block>
                        </block>
                        (周一至周五);
                        <block wx:for="{{flightPolicy.limitedDepartureTimeInWeekend}}" wx:for-item="date" wx:for-index="idx" wx:key="*this">
                            {{ date.startTime }}-{{ date.endTime }}
                            <block wx:if="{{idx < flightPolicy.limitedDepartureTimeInWeekend.length-1}}">
                                /
                            </block>
                        </block>
                        (周一至周五);
                    </view>
                </view>
            </view>
            <view class="travel-requirement" wx:if="{{flightPolicy.travelRequirement}}">
                <view class="f-w-bold">补充说明：</view>
                <view class="flex-1 text-right">{{flightPolicy.travelRequirement}}</view>
            </view>
        </view>
        <!-- 国内酒店差标 -->
        <view class="hotel-policy" wx:if="{{hotelPolicy && hotelPolicy.enabled}}">
            <view class="policy-header">
                <image class="prefix-area" src="{{prefixAreaUrl}}" lazy-load="true" />
                <view class="policy-title">国内酒店差标</view>
                <image class="prefix-area" src="{{postfixAreaUrl}}" lazy-load="true" />
            </view>
            <view class="price-policies">
                <view class="rule-item" wx:for="{{hotelPolicy.pricePolicies}}" wx:for-item="limit" wx:for-index="idx" wx:key="*this">
                    <view>{{limit.cityLevelName}}最高</view>
                    <view class="text-money f-w-bold" wx:if="{{limit.limitPrice}}">
                        <block>{{limit.limitPrice}} 元</block>
                    </view>
                    <view wx:else>不限</view>
                </view>
            </view>
        </view>
    </view>
    <view class="notify-policy">
        <view class="header">
            <iconfont icon="notify" size="16" class="text-gradient"></iconfont>
            <view class="title">知会信息</view>
        </view>
        <view class="content" wx:if="{{notifyRuleInfo.enabled}}">
            <view class="policy-item">
                <view class="policy-item-label">知会人：</view>
                <view class="flex-1">{{notifyRuleInfo.notifierEmployees}}</view>
            </view>
        </view>
        <view class="content" wx:else>暂未开启知会</view>
    </view>
</view>
<view wx:else>暂无差旅配置</view>