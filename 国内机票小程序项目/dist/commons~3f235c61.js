exports.ids=[2],exports.modules={1108:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i,c=n(14),a=n(16),s=n(5),u=n(22),l=n(0),p=n(296);!function(e){e.TicketReturn="TicketReturn",e.TicketChange="TicketChange"}(i=t.FlightOperateType||(t.FlightOperateType={}));var f=function(e){var t,n;function r(t,n,r){var o;return(o=e.call(this,t)||this).policyExecuteQueryHttpService=t,o.policyExecuteCheckHttpService=n,o.policyDisplayHttpService=r,o.bizType=u.BizType.Flight,o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getCorpPolicyDetail=function(e){return void 0===e&&(e={}),this.policyDisplayHttpService.getDomesticFlightPolicy(Object.assign({},e))},o.overrunAsyncValidator=function(e){return this.policyExecuteCheckHttpService.batchCheckDomesticFlightTraveller(Object.assign({},e))},o.getPolicyImplementMixed=function(){return a.combineLatest([this.getCorpPolicyImplement(),this.getEmployeeBookingPolicy()]).pipe(s.map(function(e){var t=e[0],n=e[1],r=t.approvalEnabled,o=t.approvalPolicyType,i=t.approvalRequired,c=t.projectEnabled,a=t.projectRequired,s=t.flightOverrunPreDaysReason,l=t.flightOverrunPriceReason,p=t.flightOverrunDepartureTimeLimitReason,f=t.insurancePolicy,h=t.customizeFieldConfig,d=t.creditEnabled,g=n.wasGreenChannel,y=n.canBookingForOthers,v=n.canCreateNewEmployee,m=n.creditEnabled;return{approvalEnabled:r&&!g,approvalRequired:i&&r&&!g,inputApprovalNoEnabled:o===u.ApprovalPolicyType.FillApprovalNoOnly,projectEnabled:c,projectRequired:c&&a,flightOverrunPreDaysReason:s,flightOverrunPriceReason:l,flightOverrunDepartureTimeLimitReason:p,insurancePolicy:f,customizeFieldConfig:h,wasGreenChannel:g,canBookingForOthers:y,canCreateNewEmployee:v,creditEnableMixed:d&&m,corpCreditEnabled:d,employeeCreditEnable:m}}))},o.getOverrunReasonPreDays=function(){return this.getCorpPolicyImplement().pipe(s.map(function(e){return e.flightOverrunPreDaysReason}))},o.getOverrunReasonPrice=function(){return this.getCorpPolicyImplement().pipe(s.map(function(e){return e.flightOverrunPriceReason}))},o.getFlightOperateReason=function(e){return this.getCorpPolicyImplement().pipe(s.map(function(t){var n,r=t.flightTicketChangeReason,o=t.flightTicketReturnReason;return e===i.TicketChange?n=r:e===i.TicketReturn&&(n=o),n}))},r}(p.CorpBizPolicyAbstract);f=r([l.injectable(),o("design:paramtypes",[c.PolicyExecuteQueryHttpService,c.PolicyExecuteCheckHttpService,c.PolicyDisplayHttpService])],f),t.CorpFlightPolicyService=f},167:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(292),c=n(2),a=n(16),s=n(0),u=n(295),l=function(){function e(e){this.routerService=e}var t=e.prototype;return t.handle=function(e){return console.error(e),e instanceof c.HttpResponseError?(this.handleHttpResponseError(e),a.EMPTY):e instanceof i.HttpBizError?(this.handleHttpBizError(e),a.EMPTY):e instanceof p?(this.showMessage(e.message),a.EMPTY):a.throwError(e)},t.handleHttpResponseError=function(e){switch(e.status){case 0:this.showMessage("请求出现错误")}},t.handleHttpBizError=function(e){switch(this.showMessage(e.message),e.code){case 401:this.routerService.reLaunchToAuthorizeLogin()}},t.showMessage=function(e){wx.showToast({title:e,icon:"none"})},e}();l=r([s.injectable(),o("design:paramtypes",[u.RouterService])],l),t.HandleErrorService=l;t.WeAPIError=function(e,t,n){this.name="WxAPIError",this.error=n,this.code=e,this.message=t};var p=function(e){this.name="BizError",this.message=e};t.BizError=p},292:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(693)),r(n(695)),r(n(294))},293:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(){function e(){}var t=e.prototype;return t.saveOpenId=function(e){this.openId=e,wx.setStorageSync("openId",e)},t.saveToken=function(e){this.token=e,wx.setStorageSync("token",e)},t.saveAccountToken=function(e){this.accountToken=e,wx.setStorageSync("accountToken",e)},t.getOpenId=function(){return this.openId||(this.openId=wx.getStorageSync("openId")),this.openId},t.getToken=function(){return this.token||(this.token=wx.getStorageSync("token")),this.token},t.getAccountToken=function(){return this.accountToken||(this.accountToken=wx.getStorageSync("accountToken")),this.accountToken},t.clearToken=function(){this.accountToken=null,this.token=null,wx.removeStorageSync("token"),wx.removeStorageSync("accountToken")},e}();i=r([o.singleton()],i),t.TokenService=i},294:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),a=n(16),s=n(0),u=function(){function e(){}return e.prototype.handle=function(e){return new a.Observable(function(t){var n=e.url,r=e.method,o=e.body,a=e.headers,s=i(e,["url","method","body","headers"]),u=Object.assign({url:n,method:r},s),l={};a.forEach(function(e,t){return l[e]=t.join(",")});var p=new Promise(function(e,t){u.success=e,u.fail=t,u.data=o,u.header=l}),f=wx.request(u);return p.then(function(e){var r=e.data,o=e.header,i=e.statusCode;if(!(i>=200&&i<300))throw e;var a=new c.HttpResponse({body:r,headers:new c.HttpHeaders(o),status:i,url:n||void 0});t.next(a),t.complete()}).catch(function(e){t.error(new c.HttpResponseError({error:e,url:n})),t.complete()}),function(){f&&f.abort()}})},e}();u=r([s.injectable(),o("design:paramtypes",[])],u),t.WxHttpBackend=u},295:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(){function e(){this.login={toSmsCodeInput:function(e,t){c("/app/pages/entrance/smscode/smscode?mobile="+e+"&cdtime="+t)}},this.common={toProtocol:function(){c("/app/pages/common/protocol/protocol")},toPrivacy:function(){c("/app/pages/common/privacy/privacy")}},this.hotel={toSearch:function(){c("/app/pages/hotel/hotel")},toOrderDetail:function(e,t){void 0===t&&(t=!1),c("/app/pages/hotel-order-detail/hotel-order-detail?id="+e+"&backToFirstPage="+ +t)},toHotelDetail:function(e){c("/app/pages/hotel/detail/detail?hotelDetailProps="+JSON.stringify(e))},redirectToHotelDetail:function(e){var t,n=JSON.stringify(e);t="/app/pages/hotel/detail/detail?hotelDetailProps="+n,wx.redirectTo({url:t})}},this.flight={toSearch:function(){c("/app/package-flight/pages/flight-search/flight-search")},toSearchList:function(e){c("/app/package-flight/pages/flight-list/flight-list?props="+JSON.stringify(e))},toPlaceOrderPage:function(e){c("/app/package-flight/pages/flight-place-order/flight-place-order?props="+JSON.stringify(e))},toCheckIn:function(e){c("/app/pages/flight-order-checkin/flight-order-checkin?id="+e)},toOrderDetail:function(e,t){void 0===t&&(t=!1),c("/app/pages/flight-order-detail/flight-order-detail?id="+e+"&backToFirstPage="+ +t)}}}var t=e.prototype;return t.toAuthorizeLogin=function(){c("/app/pages/entrance/authorize-login/authorize-login")},t.toLoginGuide=function(){c("/app/pages/entrance/login-guide/login-guide")},t.reLaunchToAuthorizeLogin=function(){wx.reLaunch({url:"/app/pages/entrance/authorize-login/authorize-login"})},t.toLogin=function(){c("/app/pages/entrance/login/login")},t.toPwdLogin=function(){c("/app/pages/entrance/pwd-login/pwd-login")},t.reLaunchToLogin=function(){wx.reLaunch({url:"/app/pages/entrance/login/login"})},t.toHome=function(){a("/app/pages/home/home")},t.toMine=function(){a("/app/pages/me/me")},t.toBack=function(e){wx.navigateBack({delta:e})},e}();function c(e){wx.navigateTo({url:e})}function a(e){wx.switchTab({url:e})}i=r([o.injectable()],i),t.RouterService=i},296:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=n(22);t.CorpPolicyAbstract=function(){};var i=function(){function e(e){this.policyExecuteQueryHttpService=e}var t=e.prototype;return t.getCorpPolicyImplement=function(){return this.policyExecuteQueryHttpService.getCorpBookingSetting(this.bizType).pipe(r.map(function(e){var t=Object.assign({},e.insurancePolicy);if(e.insurancePolicy){var n=e.insurancePolicy.insuranceMode;t=Object.assign({},t,{buyVoluntarily:n===o.InsuranceMode.Optional,buyCompulsively:n===o.InsuranceMode.Required,useFreeInsurance:n===o.InsuranceMode.Free})}return Object.assign({},e,{insurancePolicy:t})}))},t.getEmployeeBookingPolicy=function(){return this.policyExecuteQueryHttpService.getEmployeeBookingConfig()},e}();t.CorpBizPolicyAbstract=i},297:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),c=n(16),a=n(5),s=n(0),u=function(){function e(e){this.invitationHttpService=e}var t=e.prototype;return t.getAllInvitations=function(){var e=this;return c.combineLatest([this.getCodesAndInvitations(),this.getPendingInvitations()]).pipe(a.map(function(t){var n=t[0],r=t[1],o=n.concat(r);return e.uniqueInvitations(o)}))},t.getAllInvitationsCount=function(){return this.getAllInvitations().pipe(a.map(function(e){return e.length}))},t.getCodesAndInvitations=function(){var e=this;return this.getInvitationCodesByMobile().pipe(a.switchMap(function(t){return 0===t.length?c.of([]):e.getInvitationsByCodes(t)}))},t.getInvitationsByCodes=function(e){return this.invitationHttpService.batchFetchInvitation({invitationCodes:e})},t.getInvitationCodesByMobile=function(){return this.invitationHttpService.getInvitationCodes()},t.getPendingInvitations=function(){return this.invitationHttpService.getPendingInvitations()},t.uniqueInvitations=function(e){var t=new Map;return e.filter(function(e){return!t.has(e.invitationCode)&&t.set(e.invitationCode,1)})},e}();u=r([s.singleton(),o("design:paramtypes",[i.EmployeeInvitationHttpService])],u),t.InvitationsService=u},50:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),c=n(22),a=n(16),s=function(){function e(){this.employeeInfoChanged$=new a.Subject}var t,n,o,i=e.prototype;return i.getGlobalData=function(){return this.globalData},i.saveGlobalData=function(e){this.globalData=Object.assign({},this.globalData,e),e.employeeInfo&&this.employeeInfoChanged$.next()},i.getSysInfo=function(){return this.systemInfo},i.setSysInfo=function(e){this.systemInfo=e},i.getTopBarStyle=function(){var e=this.systemInfo.statusBarHeight,t=wx.getMenuButtonBoundingClientRect();return{paddingTop:e+"px",height:2*(t.top-e)+t.height+e+"px"}},i.getUserInfo=function(){return Object.assign({},this.globalData.employeeInfo)},i.getEmployeeInfoChanged=function(){return this.employeeInfoChanged$.asObservable()},t=e,(n=[{key:"isSK",get:function(){return this.globalData.isSK}},{key:"travelTypeChangeable",get:function(){return!this.isSK}},{key:"defaultTravelType",get:function(){return this.travelTypeChangeable?c.TravelType.OnBusiness:c.TravelType.OnPrivate}},{key:"hasContractHotel",get:function(){return!!this.globalData.employeeInfo&&this.globalData.employeeInfo.corpConfig.hasContractHotel}}])&&r(t.prototype,n),o&&r(t,o),e}();s=o([i.singleton()],s),t.GlobalDataService=s},693:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(694),c=n(0),a=n(293),s=function(){function e(e){this.tokenService=e}return e.prototype.intercept=function(e,t){var n=e.url;n.startsWith("http")||n.startsWith("assets")||(n=i.environment.serverUrl+n);var r=this.tokenService.getToken(),o=this.tokenService.getAccountToken(),c=e.headers;if(r){var a="Bearer "+r;c=c.set("Authorization",a)}o&&(c=c.set("AccountToken",o));var s=e.clone({url:n,headers:c});return t.handle(s)},e}();s=r([c.injectable(),o("design:paramtypes",[a.TokenService])],s),t.PrepareInterceptor=s},695:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),c=n(16),a=n(5),s=n(0),u=function(){function e(){}var t=e.prototype;return t.intercept=function(e,t){var n=this;return t.handle(e).pipe(a.mergeMap(function(e){return e instanceof i.HttpResponse&&200===e.status&&void 0!==e.body.code?n.handleBusinessData(e):c.of(e)}))},t.handleBusinessData=function(e){var t=e.body,n=t.code,r=t.data,o=t.message;return 0===n?c.of(new i.HttpResponse(Object.assign(e,{body:r}))):c.throwError(new l(n,o,e))},e}();u=r([s.injectable(),o("design:paramtypes",[])],u),t.BizInterceptor=u;var l=function(e,t,n){this.name="HttpBizError",this.error=n,this.code=e,this.message=t};t.HttpBizError=l},696:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),c=function(){function e(){}var t=e.prototype;return t.success=function(e){wx.showToast({title:e,icon:"none"})},t.info=function(e){wx.showToast({title:e,icon:"none"})},t.error=function(e){wx.showToast({title:e,icon:"none"})},e}();c=r([i.singleton(),o("design:paramtypes",[])],c),t.ToastService=c},697:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),c=n(0),a=n(50),s=function(){function e(e){this.globalDataService=e}var t=e.prototype;return t.save=function(e,t){wx.setStorageSync(e,t)},t.get=function(e){return i.of(wx.getStorageSync(e))},t.saveByUser=function(e,t){e=this.getUserKey(e),wx.setStorageSync(e,t)},t.getByUser=function(e){return e=this.getUserKey(e),i.of(wx.getStorageSync(e))},t.getUserKey=function(e){return this.globalDataService.getUserInfo().id+"_"+e},e}();s=r([c.singleton(),o("design:paramtypes",[a.GlobalDataService])],s),t.LocalCacheService=s},700:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),c=n(0),a=function(){function e(){}var t=e.prototype;return t.showLoading=function(e){return void 0===e&&(e="加载中"),i.from(wx.showLoading({title:e}))},t.hideLoading=function(){return i.from(wx.hideLoading())},e}();a=r([c.singleton(),o("design:paramtypes",[])],a),t.LoadingService=a},701:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),c=n(16),a=n(5),s=n(0),u=n(167),l="LYSBZ-ZYF6P-OAFDA-VVG7C-LNTJ6-JUBFN",p=function(){function e(e){this.httpClient=e}var t=e.prototype;return t.getCurrentAddress=function(){var e=this;return this.weGetLocation().pipe(a.switchMap(function(t){return e.getAddressInfo(t.latitude,t.longitude)}))},t.weGetLocation=function(){return c.from(wx.getLocation({type:"wgs84"})).pipe(a.catchError(function(e){return e.errMsg.includes("auth deny")?c.throwError(new u.WeAPIError("getLocation","定位失败",e)):c.throwError(e)}))},t.getAddressInfo=function(e,t){var n="https://apis.map.qq.com/ws/geocoder/v1/?location="+e+","+t+"&key="+l;return this.httpClient.get(n).pipe(a.map(function(e){return e.result}))},t.BaiDuToGCJ=function(e,t){var n="https://apis.map.qq.com/ws/coord/v1/translate?key="+l+"&locations="+e+","+t+"&type=3";return this.httpClient.get(n).pipe(a.map(function(e){return e.locations[0]}))},t.getCurrentAddressWithBaiDuCoords=function(){var e=this;return this.getCurrentAddress().pipe(a.switchMap(function(t){return e.wgsToBaiDu(t.location.lat,t.location.lng).pipe(a.map(function(e){var n=e[0];return Object.assign({},t,{location:Object.assign({},t.location,{lat:n.x,lng:n.y})})}))}))},t.wgsToBaiDu=function(e,t){var n="https://api.map.baidu.com/geoconv/v1/?coords="+e+","+t+"&from=1&to=5&ak=UN3N3Wcp4ELai4ewfhdvwjXDCALfwYES";return this.httpClient.get(n).pipe(a.map(function(e){return e.result}))},t.openLocation=function(){},e}();p=r([s.injectable(),o("design:paramtypes",[i.HttpClient])],p),t.LocationService=p},702:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),c=n(16),a=n(5),s=n(22),u=n(0),l=function(e){var t,n;function r(t,n,r){var o;return(o=e.call(this,t)||this).policyExecuteQueryHttpService=t,o.policyExecuteCheckHttpService=n,o.policyDisplayHttpService=r,o.bizType=s.BizType.Hotel,o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getCorpPolicyDetail=function(e){return void 0===e&&(e={}),this.policyDisplayHttpService.getDomesticHotelPolicy(Object.assign({},e))},o.overrunAsyncValidator=function(e){return this.policyExecuteCheckHttpService.checkDomesticHotelTraveller(Object.assign({},e))},o.getPolicyImplementMixed=function(){return c.combineLatest([this.getCorpPolicyImplement(),this.getEmployeeBookingPolicy()]).pipe(a.map(function(e){var t=e[0],n=e[1],r=t.approvalEnabled,o=t.approvalPolicyType,i=t.approvalRequired,c=t.projectEnabled,a=t.projectRequired,u=t.hotelOverrunReason,l=t.creditEnabled,p=t.customizeFieldConfig,f=n.wasGreenChannel,h=n.canBookingForOthers,d=n.canCreateNewEmployee,g=n.creditEnabled;return{approvalEnabled:r&&!f,approvalRequired:i&&r&&!f,inputApprovalNoEnabled:o===s.ApprovalPolicyType.FillApprovalNoOnly,projectEnabled:c,projectRequired:c&&a,hotelOverrunReason:u,wasGreenChannel:f,canBookingForOthers:h,canCreateNewEmployee:d,creditEnableMixed:l&&g,customizeFieldConfig:p}}))},o.getOverrunReasonList=function(){return this.getCorpPolicyImplement().pipe(a.map(function(e){return e.hotelOverrunReason}))},r}(n(296).CorpBizPolicyAbstract);l=r([u.injectable(),o("design:paramtypes",[i.PolicyExecuteQueryHttpService,i.PolicyExecuteCheckHttpService,i.PolicyDisplayHttpService])],l),t.CorpHotelPolicyService=l},703:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),c=n(5),a=n(0),s=n(167),u=n(704),l=n(705),p=function(){function e(e,t){this.ossHttpService=e,this.handleErrorService=t,this.ossUrl="https://tmc-dev-files.oss-cn-shenzhen.aliyuncs.com"}var t=e.prototype;return t.ossUpload=function(e,t,n){var r=this,o="mini/"+(t||(new Date).valueOf().toString())+"."+e.split(".")[1];this.getOSSCredentialRequest().pipe(c.map(function(e){return r.getFormDataParams(e)})).subscribe(function(t){wx.uploadFile({url:r.ossUrl,filePath:e,name:"file",formData:Object.assign({name:"file",key:o},t),success:function(e){if("uploadFile:ok"===e.errMsg){var t=r.ossUrl+"/"+o;n(t)}},fail:function(e){wx.showToast({title:e.errMsg})}})})},t.getOSSCredentialRequest=function(){var e=this;return this.ossHttpService.getCredential().pipe(c.catchError(function(t){throw e.handleErrorService.handle(t)}))},t.getFormDataParams=function(e){var t=e.accessKeyId,n=e.accessKeySecret,r=e.securityToken,o={expiration:e.expiration,conditions:[["content-length-range",0,1073741824]]},i=u.Base64.encode(JSON.stringify(o));return{policy:i,signature:this.computeSignature(i,n),OSSAccessKeyId:t,"x-oss-security-token":r}},t.computeSignature=function(e,t){return l.enc.Base64.stringify(l.HmacSHA1(e,t))},e}();p=r([a.singleton(),o("design:paramtypes",[i.OssHttpService,s.HandleErrorService])],p),t.OssUploadService=p},8:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(167)),r(n(293)),r(n(696)),r(n(697)),r(n(700)),r(n(295)),r(n(701)),r(n(702)),r(n(297)),r(n(703)),r(n(50))},820:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(i<3?o(c):i>3?o(t,n,c):o(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(110),c=n(8),a=n(16),s=n(5),u=n(0),l=n(821),p=n(822),f=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this).resourceVersionHttpService=t,r.localCacheService=n,r.version$=r.resourceVersionHttpService.getAll().pipe(s.shareReplay(1)),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getVersionFromServer=function(e){var t=p.getResourceNameByUrl(e);return t?this.version$.pipe(s.map(function(e){var n=e.find(function(e){return e.resourceName===t});return n?n.version:null})):a.of(null)},o.saveToCache=function(e,t){this.localCacheService.save(e,t)},o.getVersionFromCache=function(e){return this.localCacheService.get(e).pipe(s.map(function(e){return e.version}))},o.getBodyFromCache=function(e){return this.localCacheService.get(e)},r}(l.AbstractCacheInterceptor);f=r([u.injectable(),o("design:paramtypes",[i.ResourceVersionHttpService,c.LocalCacheService])],f),t.BasicResourcesCacheInterceptor=f},821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(16),i=n(5),c=function(){function e(){}return e.prototype.intercept=function(e,t){var n=this,c=e.url;return this.getVersionFromServer(c).pipe(i.switchMap(function(a){return null==a?t.handle(e):n.getVersionFromCache(c).pipe(i.switchMap(function(s){return a===s?n.getBodyFromCache(c).pipe(i.switchMap(function(e){return o.of(new r.HttpResponse({status:200,body:e}))})):t.handle(e).pipe(i.tap(function(e){if(e instanceof r.HttpResponse){var t=e.body;n.saveToCache(c,t)}}))}))}))},e}();t.AbstractCacheInterceptor=c},822:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[{resourceName:"airport"},{resourceName:"insurance"},{resourceName:"online_check_in"},{resourceName:"plane_type"},{resourceName:"airline"},{resourceName:"city"},{resourceName:"railway_station"},{resourceName:"fare_rule_detail"},{resourceName:"fare_rule"},{resourceName:"cabin"},{resourceName:"trainStation"},{resourceName:"trainCity"},{resourceName:"province"},{resourceName:"trainReservationNotice"},{resourceName:"country"},{resourceName:"hotelCity",url:"/v1/hotel/getAllCity"},{resourceName:"usualIntHotelCity"},{resourceName:"airRoute"},{resourceName:"verifyIdentityBank"},{resourceName:"budgetUnit"},{resourceName:"airlineAlliance"},{resourceName:"flightPassengerBookingRule"},{resourceName:"flightCity"}];t.getResourceNameByUrl=function(e){var t=r.find(function(t){return t.url===e});return t?t.resourceName:null}}};